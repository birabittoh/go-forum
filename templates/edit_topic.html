{{define "content"}}
<div class="content-wrapper">
    <div class="content-header">
        <h1>Edit Topic</h1>
        <div class="breadcrumb">
            <a href="/">Home</a> &gt; 
            <a href="/category/{{.topic.Category.ID}}">{{.topic.Category.Name}}</a> &gt; 
            <a href="/topic/{{.topic.ID}}">{{.topic.Title}}</a> &gt; 
            Edit
        </div>
    </div>
    
    <div class="content-body">
        {{if .error}}
        <div class="alert alert-error">
            {{.error}}
        </div>
        {{end}}

        <form method="post" action="/topic/{{.topic.ID}}/edit">
            <div class="form-group">
                <label for="title">Topic Title:</label>
                <input type="text" id="title" name="title" required maxlength="255" 
                       value="{{.topic.Title}}" placeholder="Enter a descriptive title for your topic">
            </div>

            {{if .user.CanModerate}}
            <div class="moderation-box">
                <h4>Moderation Options</h4>
                <div class="actions-container">
                    <div class="checkbox-group">
                        <input type="checkbox" id="is_pinned" name="is_pinned" {{if .topic.IsPinned}}checked{{end}}>
                        <label for="is_pinned">ðŸ“Œ Pin this topic</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="is_locked" name="is_locked" {{if .topic.IsLocked}}checked{{end}}>
                        <label for="is_locked">ðŸ”’ Lock this topic</label>
                    </div>
                </div>
            </div>
            {{end}}

            <div class="form-group">
                <button type="submit" class="btn btn-success">Save Changes</button>
                <a href="/topic/{{.topic.ID}}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{{end}}
