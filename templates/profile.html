{{define "content"}}
<div class="content-wrapper">
    <div class="content-header">
        <h1>{{.profileUser.Username}}'s Profile</h1>
        <div class="breadcrumb">
            <a href="/">Home</a> &gt; 
            {{.profileUser.Username}}'s Profile
        </div>
    </div>
    
    <div class="content-body">
        <div style="display: flex; gap: 30px; flex-wrap: wrap;">
            <div style="flex: 0 0 200px;">
                {{if .profileUser.ProfilePicURL}}
                    <img src="{{.profileUser.ProfilePicURL}}" alt="{{.profileUser.Username}}'s avatar" 
                         style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover;">
                {{else}}
                    <div style="width: 150px; height: 150px; background: #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 48px; color: white;">
                        {{substr .profileUser.Username 0 1 | upper}}
                    </div>
                {{end}}
            </div>
            
            <div style="flex: 1;">
                <h2 style="margin-bottom: 20px; color: #2c3e50;">{{.profileUser.Username}}</h2>
                
                <div style="margin-bottom: 15px;">
                    <strong>User Type:</strong> 
                    <span class="user-{{.profileUser.UserType.String}}">{{.profileUser.UserType.String | title}}</span>
                </div>
                
                {{if .profileUser.Motto}}
                <div style="margin-bottom: 15px;">
                    <strong>Motto:</strong> 
                    <em>"{{.profileUser.Motto}}"</em>
                </div>
                {{end}}
                
                <div style="margin-bottom: 15px;">
                    <strong>Joined:</strong> {{.profileUser.CreatedAt.Format "January 2, 2006"}}
                </div>
                
                <div style="margin-bottom: 15px;">
                    <strong>Email Verified:</strong> 
                    {{if .profileUser.EmailVerified}}
                        <span style="color: #27ae60;">✓ Yes</span>
                    {{else}}
                        <span style="color: #e74c3c;">✗ No</span>
                    {{end}}
                </div>
                
                {{if .profileUser.IsBanned}}
                <div style="margin-bottom: 15px;">
                    <strong>Status:</strong> 
                    <span class="user-banned">Banned</span>
                    {{if .profileUser.BanReason}}
                        <br><strong>Reason:</strong> {{.profileUser.BanReason}}
                    {{end}}
                    {{if .profileUser.BannedUntil}}
                        <br><strong>Until:</strong> {{.profileUser.BannedUntil.Format "2006-01-02 15:04"}}
                    {{else}}
                        <br><strong>Duration:</strong> Permanent
                    {{end}}
                </div>
                {{end}}
                
                {{if and .user (eq .user.ID .profileUser.ID)}}
                <div style="margin-top: 30px;">
                    <a href="/profile/edit" class="btn">Edit Profile</a>
                </div>
                {{end}}
            </div>
        </div>
        
        {{if .profileUser.Signature}}
        <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee;">
            <h3 style="margin-bottom: 15px; color: #2c3e50;">Signature</h3>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; border-left: 4px solid #3498db;">
                {{.profileUser.Signature | safeHTML}}
            </div>
        </div>
        {{end}}
    </div>
</div>
{{end}}
