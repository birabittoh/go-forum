{{define "content"}}
<div class="content-wrapper">
    <div class="content-header">
        <h1>Edit Profile</h1>
        <div class="breadcrumb">
            <a href="/">Home</a> &rsaquo; 
            <a href="/profile/{{.user.Username}}">{{.user.Username}}'s Profile</a> &rsaquo; 
            Edit
        </div>
    </div>
    
    <div class="content-body">
        {{if .error}}
        <div class="alert alert-error">
            {{.error}}
        </div>
        {{end}}

        <form method="post" action="/profile/edit">
            <div class="form-group">
                <label for="motto">Motto:</label>
                <input type="text" id="motto" name="motto" maxlength="{{.config.MaxMottoLength}}" 
                       value="{{.user.Motto}}" placeholder="Your personal motto or tagline">
                <small class="generic-subtitle">Maximum {{.config.MaxMottoLength}} characters. This appears under your username in posts.</small>
            </div>

            <div class="form-group">
                <label for="signature">Signature:</label>
                <textarea id="signature" name="signature" maxlength="{{.config.MaxSignatureLength}}" 
                          placeholder="Your signature appears at the bottom of all your posts. Markdown supported.">{{.user.Signature}}</textarea>
                <small class="generic-subtitle">Supports Markdown formatting. Maximum {{.config.MaxSignatureLength}} characters.</small>
            </div>

            <div class="form-group">
                <label for="theme">Theme:</label>
                <select id="theme" name="theme">
                    {{range .themes}}
                        <option value="{{.ID}}" {{if eq $.user.Theme .ID}}selected{{end}}>{{.DisplayName}}</option>
                    {{end}}
                </select>
                <small class="generic-subtitle">Choose your preferred site theme.</small>
            </div>

            <div class="form-group">
                <label for="timezone">Timezone:</label>
                <select id="timezone" name="timezone">
                    {{range .timezones}}
                        <option value="{{.Value}}" {{if eq $.user.Timezone .Value}}selected{{end}}>{{.Name}}</option>
                    {{end}}
                </select>
                <small class="generic-subtitle">Select your preferred timezone for displaying times.</small>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-success">Save Changes</button>
                <a href="/profile/{{.user.Username}}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{{end}}
