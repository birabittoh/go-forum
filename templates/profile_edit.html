{{define "content"}}
<div class="content-wrapper">
    <div class="content-header">
        <h1>Edit Profile</h1>
        <div class="breadcrumb">
            <a href="/">Home</a> &gt; 
            <a href="/profile/{{.user.Username}}">{{.user.Username}}'s Profile</a> &gt; 
            Edit
        </div>
    </div>
    
    <div class="content-body">
        {{if .error}}
        <div class="alert alert-error">
            {{.error}}
        </div>
        {{end}}

        <form method="post" action="/profile/edit">
            <div class="form-group">
                <label for="motto">Motto:</label>
                <input type="text" id="motto" name="motto" maxlength="{{.config.MaxMottoLength}}" 
                       value="{{.user.Motto}}" placeholder="Your personal motto or tagline">
                <small class="generic-subtitle">Maximum {{.config.MaxMottoLength}} characters. This appears under your username in posts.</small>
            </div>

            <div class="form-group">
                <label for="profile_pic_url">Profile Picture URL:</label>
                <input type="url" id="profile_pic_url" name="profile_pic_url" maxlength="500" 
                       value="{{if .user.ProfilePicURL}}{{.config.ProfilePicsBaseURL}}{{.user.ProfilePicURL}}{{end}}" placeholder="{{.config.ProfilePicsBaseURL}}fffe07d1/20006.png">
                <small class="generic-subtitle">Enter a direct link to your profile picture. Only URLs from <a target="_blank" href="https://{{.config.ProfilePicsWebsite}}/">{{.config.ProfilePicsWebsite}}</a> are supported.</small>
            </div>
        
            <div class="generic-container mt-15 mb-15">
                <h4>ðŸ’¡ Profile Picture Tips:</h4>
                <ol class="tips-list">
                    <li>Visit <a target="_blank" href="https://{{.config.ProfilePicsWebsite}}/">{{.config.ProfilePicsWebsite}}</a></li>
                    <li>Pick any image you want</li>
                    <li>Right click it, then Copy link</li>
                    <li>Paste it here. It should start with <code>{{.config.ProfilePicsBaseURL}}</code></li>
                </ol>
            </div>

            <div class="form-group">
                <label for="signature">Signature:</label>
                <textarea id="signature" name="signature" maxlength="{{.config.MaxSignatureLength}}" 
                          placeholder="Your signature appears at the bottom of all your posts. Markdown supported.">{{.user.Signature}}</textarea>
                <small class="generic-subtitle">Supports Markdown formatting. Maximum {{.config.MaxSignatureLength}} characters.</small>
            </div>

            <div class="form-group">
                <label for="theme">Theme:</label>
                <select id="theme" name="theme">
                    {{range .themes}}
                        <option value="{{.ID}}" {{if eq $.user.Theme .ID}}selected{{end}}>{{.DisplayName}}</option>
                    {{end}}
                </select>
                <small class="generic-subtitle">Choose your preferred site theme.</small>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-success">Save Changes</button>
                <a href="/profile/{{.user.Username}}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{{end}}
